<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Update Task</title>
    <style>
        *{box-sizing:border-box;margin:0;padding:0}
        body{font-family:'Segoe UI',Tahoma,Arial;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);min-height:100vh;display:flex;align-items:center;justify-content:center;padding:20px}
        .card{background:#fff;border-radius:10px;padding:28px;max-width:600px;width:100%;box-shadow:0 12px 30px rgba(0,0,0,.15)}
        h1{font-size:1.6rem;margin-bottom:8px}
        p.sub{color:#666;margin-bottom:18px}
        .form-group{margin-bottom:14px}
        label{display:block;margin-bottom:6px;font-weight:600;color:#333}
        input[type=text],input[type=number],textarea,select{width:100%;padding:10px;border:2px solid #e6e6e6;border-radius:6px;font-size:1em}
        input[readonly]{background:#f5f5f5;cursor:not-allowed}
        textarea{min-height:100px;resize:vertical}
        .actions{display:flex;gap:12px;margin-top:18px}
        .btn{flex:1;padding:10px 14px;border-radius:6px;border:none;cursor:pointer;font-weight:700}
        .btn-primary{background:#667eea;color:#fff}
        .btn-cancel{background:#f3f3f3;color:#333}
    </style>
</head>
<body>
    <div class="card">
        <h1>✏️ Edit Task</h1>
        <p class="sub">Update task details and save changes.</p>
 
        {% if task %}
        <form method="POST" action="/tasks/update">
            <div class="form-group">
                <label for="taskId">Task ID</label>
                <input id="taskId" name="task_id" type="text" value="{{ task.id }}" readonly required>
            </div>
 
            <div class="form-group">
                <label for="title">Title</label>
                <input id="title" name="title" type="text" value="{{ task.title }}" required>
            </div>
 
            <div class="form-group">
                <label for="description">Description</label>
                <textarea id="description" name="description" required>{{ task.description }}</textarea>
            </div>
 
            <div class="form-group">
                <label for="status">Status</label>
                <select id="status" name="status" required>
                    <option value="pending" {% if task.status == 'pending' %}selected{% endif %}>pending</option>
                    <option value="In_progress" {% if task.status == 'In_progress' %}selected{% endif %}>In_progress</option>
                    <option value="completed" {% if task.status == 'completed' %}selected{% endif %}>completed</option>
                </select>
            </div>
 
            <div class="form-group">
                <label for="projectId">Project ID</label>
                <input id="projectId" name="project_id" type="text" value="{{ task.project_id }}" required>
            </div>
 
            <div class="actions">
                <button type="button" class="btn btn-cancel" onclick="goBack()">Cancel</button>
                <button type="submit" class="btn btn-primary">Save Changes</button>
            </div>
        </form>
        {% else %}
        <div style="text-align: center; color: #999; padding: 40px;">
            <p>Task not found</p>
            <button class="btn btn-cancel" onclick="window.location.href='/projects'" style="margin-top: 20px;">Back to Projects</button>
        </div>
        {% endif %}
    </div>
 
    <script>
        function goBack() {
            const projectId = document.getElementById('projectId').value;
            if (projectId) {
                window.location.href = `/projects/${projectId}/tasks`;
            } else {
                window.location.href = '/projects';
            }
        }
    </script>
</body>
</html>
 
 